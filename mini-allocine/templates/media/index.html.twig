{% extends 'base.html.twig' %}

{% block title %}Liste titres{% endblock %}

{% block body %}
    <div class="row text-center mt-3">
        <h1>Liste titres</h1>
    </div>
    <div class="row">
        <div class="col-4 offset-4">            
            <form  role="search">
                <div class="d-flex">
                    <input class="form-control me-2" type="search" name="s" value="{{ app.request.get('s') }}" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </div>
                <div class="mt-2">
                    <label>Filtre:</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" {{ app.request.get('nom')=='on'?'checked':'' }} name="nom" id="nom" checked>
                        <label class="form-check-label" for="nom">
                          Chercher par nom
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" {{ app.request.get('realisateur')=='on'?'checked':'' }}  name="realisateur" id="realisateur" >
                        <label class="form-check-label" for="realisateur">
                          Chercher par réalisateur
                        </label>
                      </div>                    
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" {{ app.request.get('contenu')=='on'?'checked':'' }}  name="contenu" id="contenu" >
                        <label class="form-check-label" for="contenu">
                          Chercher par Contenu
                        </label>
                      </div>                    
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-8 offset-2">
            <table class="table">
                <thead>
                    <tr>
                        <th>Titre</th>
                        <th>Résumé</th>
                        <th>Réalisateur</th>
                        <th>Année</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for titre in titres %}
                        <tr>

                            <td>{{ titre.nom }}</td>
                            <td>{{ titre.contenu|slice(0,50) }}...</td>
                            <td>{{ titre.realisateur }}</td>
                            <td>{{ titre.anneeSortie }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('app_media_details',{'id':titre.id}) }}" >Détails</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
